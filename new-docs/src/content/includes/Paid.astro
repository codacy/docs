---
import { Aside } from '@astrojs/starlight/components';

type Variant = 'paid' | 'private-repositories' | 'business';

interface Props {
	variant?: Variant;
	pricingUrl?: string;
}

const { variant = 'paid', pricingUrl = 'https://www.codacy.com/pricing' } = Astro.props;

let prefix = 'This feature is ';
let linkText = 'only available on paid plans';

switch (variant) {
	case 'private-repositories':
		prefix = 'Analyzing private repositories is ';
		break;
	case 'business':
		linkText = 'only available on Business plan';
		break;
	case 'paid':
	default:
		break;
}
---

<Aside type="note" title="Paid plans">
	{prefix}
	<a href={pricingUrl}>{linkText}</a>.
</Aside>
